<ion-view view-title="Room List" name="room-list-view">
  <!-- Filter field -->
  <div class="card no-padding fixed-search-header">
    <label class="item item-input">
      <input type="text"
             placeholder="Enter a keyword"
             ng-model="roomListCtrl.searchField"
             ng-change="roomListCtrl.filterSearch()">
    </label>
  </div>
  <!-- List of rooms -->
  <ion-content class="ion-content-under-search"
               ng-class="{'ion-content-over-details': roomListCtrl.shouldShowDetails}">
    <div class="card">
      <div class="item item-icon-left vert-83-padding"
           ng-repeat="room in roomListCtrl.existingRooms"
           ng-click="roomListCtrl.toggleRoomDetails(room)">
        <i class="icon ion-ios-people {{room.category}}"></i>
        <b>{{room.topic}}</b>
        <div class="item-text-wrap row">
          <div class="col col-40">
            <p>Participants: {{room.joined}}</p>
          </div>
          <div class="col col-60 text-right">
            <p>Status: {{room.status}}</p>
          </div>
        </div>
      </div>
    </div>

  </ion-content>
  <!-- Selected room details -->
  <div class="card bottom-details"
       ng-show="roomListCtrl.shouldShowDetails">
    <room-list-details room="roomListCtrl.selectedRoom"></room-list-details>
    <div class="bottom-button">
      <button class="button button-block button-calm" ng-click="roomDetailsCtrl.popupKeycodeInput()">Join</button>        
    </div>
  </div>
</ion-view>